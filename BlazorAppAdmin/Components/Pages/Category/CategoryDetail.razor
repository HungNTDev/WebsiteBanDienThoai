@page "/CategoryDetail/{Id:guid}"
@using BlazorAppAdmin.Model.Category
@using BlazorAppAdmin.Service.CategoryService
@using BlazorAppAdmin.Service.ImageService
@inject CategoryService CategoryService
@inject ImageService imageService
@inject NavigationManager Navigation

@if (category == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <div class="container mt-4">
        <div class="card shadow-sm border-0">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">Category Detail</h5>
            </div>
            <div class="card-body text-center">
                <h4 class="fw-bold">@category.Name</h4>
                <img src="@imageService.GetImageUrl(category.Image)"
                     class="img-thumbnail rounded shadow-sm mt-3"
                     style="width: 200px; height: auto; transition: transform 0.3s ease-in-out;"
                     alt="@category.Name"
                     onmouseover="this.style.transform='scale(1.05)'"
                     onmouseout="this.style.transform='scale(1)'" />
            </div>
            <div class="card-footer text-end">
                <button class="btn btn-secondary" @onclick="GoBack">
                    <i class="bi bi-arrow-left"></i> Go Back
                </button>
            </div>
        </div>
    </div>

}

@code {
    [Parameter]
    public Guid Id { get; set; }
    
    private BlazorAppAdmin.Model.Category.CategoryForView category ;
    protected override async Task OnInitializedAsync()
    {
        category = await CategoryService.GetCategoryByIdAsync(Id);
    }
    private void GoBack()
    {
        Navigation.NavigateTo("/categories");
    }
}
